define(function(e,t,i){"use strict";function T(){$("<div>",{"class":"avril-parent-work",html:x}).insertBefore($("#editor-holder"));$("#working-set-list-container").appendTo($(".avril-tabs-work")),$(".sidebar-selection").remove(),$(".sidebar-selection-extension").remove(),$(".todoFunction .scroller-shadow").remove(),$(".working-set-header").remove();var t=$(".avril-tabs-work ul");B(t)}function B(e){var t=$("#avril-val"),i=parseInt(t.val(),10),r=function(r){r=window.event||r;var a=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail)),l=parseInt(t.val(),10),o=0>a?i+l:l-i,n=e[0].scrollWidth-$(".open-files-container").width(),s=o>n?n:0>o?0:o;t.val(s);var c=t.val();$(this).scrollLeft(c),r.preventDefault()};e.on("mousewheel",r)}function D(){var e=$("#workfile-avril");e.hide(),$(".all-workfile").click(function(t){t.stopPropagation(),E(),e.toggle("fast")})}function E(){$("#workfile-avril").children().remove(),$(".avril-tabs-work #working-set-list-container ul").clone(!0).appendTo("#workfile-avril"),$("#workfile-avril").click(j)}function j(){$("#workfile-avril").hide(),$("#workfile-avril").children().remove()}function H(){l.toggle(b)}function q(){h.toggle("fast");var e=$(".content"),t="0px"===e.css("right")?!0:!1,i=t?30:0,r=t?"»":"«",a=t?"Hide toolBar":"Show toolBar";e.animate({right:i},"fast",function(){$("#fullmainToolbar-avril").html(r).attr("title",a)})}function I(){var e=$("#fullScreenSidebar-avril");n.isVisible()?e.html("←").attr("title","Hide Sidebar").css("color","#37b1ac"):e.html("→").attr("title","Show Sidebar"),b.on("panelCollapsed",function(){e.html("→").attr("title","Show Sidebar"),e.css("color")&&e.removeAttr("style")}),b.on("panelExpanded",function(){e.html("←").attr("title","Hide Sidebar").css("color","#37b1ac")})}function P(){window.setTimeout(function(){var e=$(".content .working-file-tabs-container").length,t=$("#editor-holder #ext-documents").length,i=$(".content .gt-tabs").length,r=$("#status-bar .extension-toolbar").length,a="<br> Brackets Working File Tabs",l="<br> Documents Toolbar",o="<br> Brackets File Tabs",n="<br> Extensions Toolbar Reposition",s=function(){return!e||t||i||r?!t||e||i||r?!i||t||e||r?!r||e||t||i?e&&t&&!i&&!r?[a,l]:e&&i&&!t&&!r?[a,o]:e&&r&&!t&&!r?[a,n]:t&&i&&!e&&!r?[l,o]:t&&r&&!e&&!i?[l,n]:i&&r&&!e&&!t?[a,l]:e&&t&&i&&!r?[a,l,o]:e&&t&&r&&!i?[a,l,n]:e&&i&&r&&!t?[a,o,n]:e&&t&&i&&r?[a,l,o,n]:void 0:n:o:l:a},c=s();(e||t||i||r)&&d.showModalDialog(f,"title",u+"<br>"+c)},2e3)}var r=brackets.getModule("utils/AppInit"),a=brackets.getModule("utils/ExtensionUtils"),l=brackets.getModule("utils/Resizer"),o=brackets.getModule("editor/EditorManager"),n=brackets.getModule("project/SidebarView"),d=(brackets.getModule("view/MainViewManager"),brackets.getModule("view/WorkspaceManager"),brackets.getModule("project/ProjectManager"),brackets.getModule("widgets/Dialogs")),u="it is possible that a similar extension to this is interfering with the operation <br> Please uninstall the extensions similar to this.",f="fjkgsd.avril",b=$("#sidebar"),h=$("#main-toolbar");a.loadStyleSheet(i,"style/style.min.css");var k='<input type="hidden" value="15" id="avril-val" style="display:none;">',w='<div class="btn-sidebar-bks btn-alt-quiet" id="fullScreenSidebar-avril"></div>',g='<div class="avril-tabs-work"></div>',p='<div id="workfile-avril"><span></span></div>',m='<div class="all-workfile btn-alt-quiet" title="Show worklist">≡</div>',S='<div id="fullmainToolbar-avril" class="btn-mainToolbar-bks btn-alt-quiet" title="Hide toolBar">»</div>',M=k+w+g+m+S,x='<div class="todoFunction">'+M+"</div>"+p;$(o).on("activeEditorChange documentSaved",j);var R=function(){T(),D(),$("#fullScreenSidebar-avril").click(H),$("#fullmainToolbar-avril").click(q),I()};r.appReady(R),r.extensionsLoaded(P)});